Soft fork of random assorted changes. Consider this perpetually unstable and barely tested.

You can find the official version by Volch [here](https://gist.github.com/Vollch/b1a5eec305558a48b7f4575d317d7dd1).
